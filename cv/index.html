<!DOCTYPE html>
<html>
<head>
	<title>Juan Eduardo Casta√±o Nestares - Curriculum Vitae</title>
</head>
<body>
<script type="module">
	function show(obj) {
		for (let i=0,j=obj.length; i<j; i++) {
			console.log(obj.data[i])
		}
	}

	show(document.the_document)
	const doAjax = async () => {
		const response = await fetch("data.json",{
			method: 'GET',
			headers: {
				'Accept': 'application/json'
			}
		});
		if (response.ok) {
			const jsonValue = await response.json();
			const result = Promise.resolve(jsonValue);
			document.cv = result
			return result
		} else {
			return Promise.reject("*** it didn't work ***");
  		}
	};

	doAjax().then(show)

</script>
</body>
</html>
